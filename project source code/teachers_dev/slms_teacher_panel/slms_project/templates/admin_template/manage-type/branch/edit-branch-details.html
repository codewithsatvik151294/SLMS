{% comment %} <?php $txt="Manage Type" ; $subP="branch"; include('../header-1.php');  ?> {% endcomment %}
{% include 'admin_template/header-1.html' %}
{% load static %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
    <div class="app-content content position-relative  ">
         
      <div class="content-wrapper">
        <div class="content-body "><!-- Revenue, Hit Rate & Deals -->
           <div class="col-lg-12 col-md-12 col-sm-12  ">
              <div class="top-options pl-1 mb-0">
                <div class="row">
                     <div class="col-md-3 "><h3 >Edit Branch Detaild</h3></div>
                         
                        <div class="col-md-9 text-right pr-2  ">
                            
                            <a class="btn btn-default   float-right btn-sm  ml-1" href="{% url 'branch_list' %}" ><i class="fa fa-arrow-left"></i> Back to list</a>
                        </div>
                   </div>
               </div>
                <div class="card form mt-2">
                  <div class="card-content ">
                      <div class="card-body"  >
                            <div class="row ">
                               <div class="col-lg-12 mt-1  ">
                                 <h4 class="title-1">Branch Detail</h4>
                               </div>
                                <div class="col-lg-4 mt-1  form-group">
                                      <label>Branch Code<span class="text-danger"><small><strong> *</strong></small></span></label><span id="branch-code-error" class="text-danger d-none"><small><strong> Branch Code Already Exist!</strong></small></span>
                                      <input type="text" value="{{branchObj.branch_code}}" onkeypress="return /[0-9]/i.test(event.key)" maxlength="10" class="form-control" placeholder="Enter Branch code" id="branchCode" onkeyup="checkFields(this)" fieldType='branchCode'   readonly="" />
                                   </div>
                                  <div class="col-lg-8 mt-1  form-group">
                                      <label>Branch Name<span class="text-danger"><small><strong> *</strong></small></span></label><span id="branch-name-error" class="text-danger d-none"><small><strong> Branch Name Already Exist!</strong></small></span>
                                      <input type="text" value="{{branchObj.branch_name}}" onkeypress="return /[a-zA-Z, ]/i.test(event.key)" class="form-control" placeholder="Enter branch name" id="branchName" onkeyup="checkFields(this)" fieldType='branchName'  />
                                   </div>
                                    
                                   <div class="col-lg-12 mt-1  ">
                                     <h4 class="title-1">Contact Detail</h4>
                                   </div>
                                  <div class="col-lg-4 mt-1  form-group">
                                      <label>Email ID <span class="text-danger"><small><strong> *</strong></small></span></label><span id="branch-email-error" class="text-danger d-none"><small><strong> Email Already Exist!</strong></small></span>
                                      <input type="text" class="form-control" placeholder="Enter email id" value="{{branchObj.branch_email}}" id="branchEmail" onkeyup="checkFields(this)" fieldType='branchEmail'/>
                                   </div>
                                   <div class="col-lg-4 mt-1   form-group">
                                      <label>Contact Number<span class="text-danger"><small><strong> *</strong></small></span></label><span id="branch-contact-error" class="text-danger d-none"><small><strong> Contact Already Exist!</strong></small></span>
                                      <input type="text" class="form-control" placeholder="Enter mobile number" value="{{branchObj.branch_contact}}" id="branchContact" onkeypress="return /[0-9]/i.test(event.key)" maxlength="10" onkeyup="checkFields(this)" fieldType='branchContact' />
                                   </div>
                                    
                                   
                                   <div class="col-lg-12 mt-0 mb-1   form-group">
                                      <label>Address</label>
                                      <textarea class="form-control" placeholder="Enter   address" id="branchAddress">{{branchObj.branch_address}}</textarea>
                                   </div>
                                   <div class="col-lg-4 form-group">
                                     <label>Pin Code<span class="text-danger"><small><strong> *</strong></small></span></label><span id="branch-pincode-error" class="text-danger d-none"><small><strong> Invalid Pincode!</strong></small></span>
                                     <input type="text" class="form-control" placeholder="Enter pin code" value="{{branchObj.branch_pinCode}}" onkeypress="return /[0-9]/i.test(event.key)" maxlength="6" id="branchPinCode" placeholder="Enter pin code" onkeyup="getPostalAddress(this)" />
                                   </div>
                                     <div class="col-lg-4   form-group">
                                     <label>City</label>
                                     <input type="text" class="form-control" placeholder="Enter city" value="{{branchObj.branch_city}}" onkeypress="return /[a-zA-Z ]/i.test(event.key)" placeholder="Enter city" id="branchCity" />
                                   </div>
                                   <div class="col-lg-4   form-group">
                                     <label>State</label>
                                     <select class="form-control" id='branch_state'>
                                      <option class="d-none">Select</option>
                                      <option value="Andhra Pradesh">Andhra Pradesh</option>
                                      <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                      <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                                      <option value="Assam">Assam</option>
                                      <option value="Bihar">Bihar</option>
                                      <option value="Chandigarh">Chandigarh</option>
                                      <option value="Chhattisgarh">Chhattisgarh</option>
                                      <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                      <option value="Daman and Diu">Daman and Diu</option>
                                      <option value="Delhi">Delhi</option>
                                      <option value="Lakshadweep">Lakshadweep</option>
                                      <option value="Puducherry">Puducherry</option>
                                      <option value="Goa">Goa</option>
                                      <option value="Gujarat">Gujarat</option>
                                      <option value="Haryana">Haryana</option>
                                      <option value="Himachal Pradesh">Himachal Pradesh</option>
                                      <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                      <option value="Jharkhand">Jharkhand</option>
                                      <option value="Karnataka">Karnataka</option>
                                      <option value="Kerala">Kerala</option>
                                      <option value="Madhya Pradesh">Madhya Pradesh</option>
                                      <option value="Maharashtra">Maharashtra</option>
                                      <option value="Manipur">Manipur</option>
                                      <option value="Meghalaya">Meghalaya</option>
                                      <option value="Mizoram">Mizoram</option>
                                      <option value="Nagaland">Nagaland</option>
                                      <option value="Odisha">Odisha</option>
                                      <option value="Punjab">Punjab</option>
                                      <option value="Rajasthan">Rajasthan</option>
                                      <option value="Sikkim">Sikkim</option>
                                      <option value="Tamil Nadu">Tamil Nadu</option>
                                      <option value="Telangana">Telangana</option>
                                      <option value="Tripura">Tripura</option>
                                      <option value="Uttar Pradesh">Uttar Pradesh</option>
                                      <option value="Uttarakhand">Uttarakhand</option>
                                      <option value="West Bengal">West Bengal</option>
                                     </select>
                                   </div>
                                 

 
                                      
                               </div>
                             
                      </div>
                  </div>
              </div>

                 <div class="text-right  pt-1">
                     <a  class="btn btn-primary pl-5 pr-5" href="javascript:;" id='submit_btn' onclick="edit_branch()" >Update</a>
                 </div>
            </div>
      </div>
     </div>
   </div>

   <!-- Modal -->
  <div class="modal fade small" id=success tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
           <img src="{% static 'static/app-assets/images/success-icon-10.png' %}">
           <p>Branch has been updated successfully.</p>
           <a href="{% url 'branch_list' %}" class="btn btn-info" >OK</a>
        </div>
         
      </div>
    </div>
  </div>
 
{% comment %} <?php include('../footer-1.php')  ?> {% endcomment %}
<script src="{% static 'static/app-assets/js/web_app_JS/admin_JS/manage_branchJS/checkBranchFields.js' %}" type="text/javascript"></script>
<script src="{% static 'static/app-assets/js/web_app_JS/admin_JS/manage_branchJS/edit-branch.js' %}" type="text/javascript"></script>

{% include 'admin_template/footer-1.html' %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
<script type="text/javascript">
  {% comment %} $('select').selectpicker(); {% endcomment %}
  var state = "{{branchObj.branch_state}}";
  $('#branch_state').val(state);
  $('#branch_state').selectpicker();
</script>
<script>
  var i = 0;
  $("#branchName").on('keypress', function (e) {
      if ($(this).val().length < 1) {
          if (e.which == 32) {
              return false;
          }
      }
      else {
          if (e.which == 32) {
              if (i != 0) {
                  return false;
              }
              i++;
          }
          else {
              i = 0;
          }
      }
      var regex = /^[a-zA-Z' ]*$/;
      var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
      if (regex.test(str)) {
          return true;
      }

      e.preventDefault();
      return false;
  });
</script>